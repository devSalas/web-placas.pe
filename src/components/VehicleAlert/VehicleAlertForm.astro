---
import Header from './Header.astro';
import VehicleInput from './VehicleInput.astro';
---

<div class="max-w-4xl mx-auto bg-white rounded-lg shadow-sm">
  <Header username="ANGELA ASTO" userType="AAP Usuario Público Web" />
  
  <div class="p-6">
    <nav class="mb-6">
      <ul class="flex border-b">
        <li class="mr-1">
          <a href="#" class="inline-block px-4 py-2 text-sm font-medium text-gray-500 hover:text-gray-700">
            Listar Vehículos
          </a>
        </li>
        <li class="mr-1">
          <a href="#" class="inline-block px-4 py-2 text-sm font-medium text-blue-600 border-b-2 border-blue-600">
            Nuevo/Editar Vehículo
          </a>
        </li>
      </ul>
    </nav>

    <div class="bg-blue-50 p-6 rounded-lg">
      <h2 class="text-lg font-medium text-gray-900 mb-6">NUEVO/EDITAR VEHÍCULO</h2>
      
      <div class="grid md:grid-cols-2 gap-8">
        <div class="space-y-6">
          <VehicleInput 
            label="Ingrese el Nro. de placa de su vehículo"
            id="plateNumber"
            pattern="[A-Z0-9]{6,7}"
            required
          />
          
          <VehicleInput 
            label="Ingrese el Nro. de título de su vehículo"
            id="titleNumber"
            pattern="[0-9]{1,15}"
            required
          />

          <div class="flex gap-4">
            <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Guardar
            </button>
            <button type="button" class="px-6 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
              Cancelar
            </button>
          </div>
        </div>

        <div class="hidden md:block">
          <img 
            src="https://www.cuscoenportada.com/wp-content/uploads/2015/04/tarjeta-vehicular-690x340.jpg" 
            alt="Ejemplo de Tarjeta Vehicular"
            class="w-full rounded-lg shadow-md"
          />
        </div>
      </div>
    </div>
    <div>
        
    </div>
  </div>
</div>

<script>
  // Form validation
  const form = document.querySelector('form');
  const inputs = document.querySelectorAll('input[required]');

  inputs.forEach(input => {
    input.addEventListener('input', (e) => {
      const target = e.target as HTMLInputElement;
      if (target.pattern) {
        const regex = new RegExp(target.pattern);
        if (!regex.test(target.value)) {
          target.classList.add('border-red-500');
        } else {
          target.classList.remove('border-red-500');
        }
      }
    });
  });
</script>